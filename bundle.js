!function(e){function t(s){if(i[s])return i[s].exports;var n=i[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var i={};t.m=e,t.c=i,t.d=function(e,i,s){t.o(e,i)||Object.defineProperty(e,i,{configurable:!1,enumerable:!0,get:s})},t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,"a",i),i},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";var s=i(2);(new(function(e){return e&&e.__esModule?e:{default:e}}(s).default)).run()},function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),o=i(3),l=s(o),a=i(4),u=s(a),h=i(5),c=s(h),d=i(6),f=s(d),p=i(7),y=s(p),v=i(8),g=s(v),w=i(9),m=s(w),k=i(10),b=s(k),x=["SPLASHSCREEN","MENU","LEVELS","PLAYING","PAUSED"],E=function(){function e(){n(this,e),this.width=1920,this.height=1080,this.canvas=this.createCanvas("flex",this.width,this.height),this.context=this.canvas.getContext("2d"),this.fps=60,this.frame=0,this.state="MENU",this.scale=window.innerWidth/this.width,console.log(this.scale),this.lastTimestamp=new Date,this.deltaTime=0,this.mouse=new u.default(this.canvas),this.keyboard=new c.default,this.debugger=new f.default,this.splashscreen=new y.default,this.menu=new g.default,this.levels=new m.default,this.sound=new l.default,this.games=[new b.default(this)],this.currentGameIndex=0,this.currentGame=this.games.length>0?this.games[this.currentGameIndex]:null,this.currentLevelIndex=0,this.currentLevel=this.currentGame.levels[this.currentLevelIndex];var t=[{id:"main",src:"sounds/main.mp3"},{id:"select",src:"sounds/select.mp3"},{id:"back",src:"sounds/back.mp3"},{id:"error",src:"sounds/error.wav"}];this.sound.load(t),this.sound.play("main",{loop:-1}),window.requestAnimationFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}()}return r(e,[{key:"setGame",value:function(e){return null==e||e<0||e>=this.games.length?(console.warn("Not a valid index or game"),!1):this.games[e].unlocked?(this.currentGameIndex=e,this.currentGame=this.games[this.currentGameIndex],console.log("Game set:",this.currentGame.title),!0):(console.warn("Game is not unlocked"),!1)}},{key:"setLevel",value:function(e){return null==e||e<0||e>=this.currentGame.levels.length?(console.warn("Not a valid index or level"),!1):this.currentGame.levels[e].unlocked?(this.currentLevelIndex=e,this.currentLevel=this.currentGame.levels[this.currentLevelIndex],this.currentGame.setup(this),console.log("Level set:",this.currentLevel.title),!0):(console.warn("Level is not unlocked"),!1)}},{key:"setState",value:function(e){return x.includes(e)?(this.state=e,console.log("State set:",e),!0):(console.warn("Not a valid state"),!1)}},{key:"createCanvas",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:540,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:320,s=document.createElement("canvas");return s.id="canvas",s.width=t,s.height=i,e?document.getElementById(e).appendChild(s):document.body.appendChild(s),s}},{key:"clear",value:function(){this.context.clearRect(0,0,this.width,this.height),this.context.fillStyle="#000",this.context.fillRect(0,0,this.width,this.height)}},{key:"update",value:function(){switch(this.state){case"SPLASHSCREEN":this.splashscreen.update(this);break;case"MENU":this.menu.update(this);break;case"LEVELS":this.levels.update(this);break;case"PLAYING":this.currentGame.update(this)}this.keyboard.clear(),this.mouse.clear()}},{key:"draw",value:function(){switch(this.clear(),this.state){case"SPLASHSCREEN":this.splashscreen.draw(this);break;case"MENU":this.menu.draw(this);break;case"LEVELS":this.levels.draw(this);break;case"PLAYING":this.currentGame.draw(this);break;case"PAUSED":console.log("draw paused")}this.debugger.add(this.mouse.x/this.scale),this.debugger.add(this.mouse.y/this.scale),this.debugger.draw(this)}},{key:"pause",value:function(){this.state="PAUSED"}},{key:"unpause",value:function(){this.state="PAUSED"}},{key:"loop",value:function(){this.frame++;var e=new Date;this.deltaTime=e-this.lastTimestamp,this.draw(),this.update(this.deltaTime),this.lastTimestamp=e,requestAnimationFrame(this.loop.bind(this))}},{key:"run",value:function(){this.loop()}}]),e}();t.default=E},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=function(){function e(){s(this,e),this.sounds=[],this.soundsPlaying=[]}return n(e,[{key:"play",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{volume:1,loop:0},i=this,s=null;if(this.sounds.forEach(function(t,i){if(t.id===e)return void(s=t)}),null!==s&&s.loaded){var n=new Audio;n.volume=t.volume;var r=0;-1===t.loop?n.loop=!0:t.loop>1?n.addEventListener("ended",function(){i.remove(s.id),r<parama.loop-1&&(this.currentTime=0,this.play(),i.soundsPlaying.push({id:s.id,audio:this}),r++)},!1):n.addEventListener("ended",function(){i.remove(s.id)},!1),n.src=s.src,n.play(),this.soundsPlaying.push({id:s.id,audio:n})}else s.play=!0,console.warn("Sound not ready, playing when loaded")}},{key:"pauseAll",value:function(){this.soundsPlaying.forEach(function(e){e.audio.pause()})}},{key:"playAll",value:function(){this.soundsPlaying.forEach(function(e){e.audio.play()})}},{key:"stop",value:function(e){var t=this;this.soundsPlaying.forEach(function(i,s){if(i.id===e)return i.audio.pause(),void t.soundsPlaying.splice(s,1)})}},{key:"remove",value:function(e){var t=this;this.soundsPlaying.forEach(function(i,s){if(i.id===e)return void t.soundsPlaying.splice(s,1)})}},{key:"load",value:function(e){var t=this,i=this;e.forEach(function(e,s){if(void 0!==e.id&&void 0!==e.src){var n=!1;t.sounds.forEach(function(t){t.id===e.id&&(n=!0)}),n||function(){var t={id:e.id,src:e.src,loaded:!1};i.sounds.push(t);var s=new Audio;s.addEventListener("canplaythrough",function(){t.loaded=!0,t.play&&i.play(t.id)},!1),s.src=e.src}()}})}}]),e}();t.default=r},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=function(){function e(t){s(this,e),this.x=0,this.y=0,this.mousedown=!1,this.mouseup=!1,this.clicked=!1,this.target=t,t.addEventListener("mousemove",this.mousemove.bind(this)),t.addEventListener("click",this.click.bind(this))}return n(e,[{key:"clear",value:function(){this.clicked=!1}},{key:"click",value:function(){this.clicked=!0}},{key:"isClicked",value:function(){return this.clicked}},{key:"mousemove",value:function(e){this.x=e.offsetX,this.y=e.offsetY}},{key:"mousedown",value:function(e){this.mousedown=!0}},{key:"mouseup",value:function(e){this.mousedown=!1,this.mouseup=!0}}]),e}();t.default=r},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=function(){function e(){s(this,e),this.pressedKeys={},this.clickedKeys={},this.key={SPACE:"Space",ENTER:"Enter",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown"},document.addEventListener("keydown",this.keydown.bind(this)),document.addEventListener("keyup",this.keyup.bind(this))}return n(e,[{key:"clear",value:function(){this.clickedKeys={}}},{key:"keydown",value:function(e){this.isPressed(e.which)&&this.isPressed(e.keyCode)&&this.isPressed(e.key)&&this.isPressed(e.code)||(this.clickedKeys[e.which]=!0,this.clickedKeys[e.keyCode]=!0,this.clickedKeys[e.key]=!0,this.clickedKeys[e.code]=!0),this.pressedKeys[e.which]=!0,this.pressedKeys[e.keyCode]=!0,this.pressedKeys[e.key]=!0,this.pressedKeys[e.code]=!0}},{key:"keyup",value:function(e){this.pressedKeys[e.which]=!1,this.pressedKeys[e.keyCode]=!1,this.pressedKeys[e.key]=!1,this.pressedKeys[e.code]=!1}},{key:"isPressed",value:function(e){return this.pressedKeys[e]}},{key:"isClicked",value:function(e){return this.clickedKeys[e]}}]),e}();t.default=r},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=function(){function e(){s(this,e),this.output=[],this.frames=[]}return n(e,[{key:"add",value:function(e){this.output.push(e)}},{key:"addFrame",value:function(e){this.frames.unshift(e)}},{key:"clear",value:function(){this.output=[],this.frames.length>200&&this.frames.pop()}},{key:"draw",value:function(e){e.context.fillStyle="rgba(0,255,0,0.5)",e.context.fillRect(0,0,200,90+20*this.output.length),this.frames.forEach(function(t,i){e.context.fillRect(199-i,70-t,1,t)}),e.context.fillStyle="white",e.context.font="15px monospace",e.context.textAlign="left",this.output.forEach(function(t,i){e.context.fillText(t,12,95+20*i)}),this.clear()}}]),e}();t.default=r},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=function(){function e(){s(this,e)}return n(e,[{key:"update",value:function(e){var t=e.keyboard;(t.isClicked(t.key.SPACE)||t.isClicked(t.key.ENTER))&&(e.sound.play("select"),e.setState("MENU"))}},{key:"draw",value:function(e){var t=e.context,i=e.width,s=e.height,n=e.frame;t.fillStyle="black",t.fillRect(0,0,i,s),t.fillStyle="white",t.textAlign="center",t.font="bold 300px sans-serif",t.fillText("LOSER",i/2,.5*s),Math.sin(n/15)>.2&&(t.font="50px sans-serif",t.fillText("PRESS SPACE TO START",i/2,.7*s))}}]),e}();t.default=r},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=function(){function e(){s(this,e),this.selected=0,this.size=300,this.padding=50}return n(e,[{key:"update",value:function(e){var t=this,i=e.keyboard,s=e.games,n=e.width,r=e.height,o=e.mouse,l=e.scale,a=e.sound;(i.isClicked(i.key.SPACE)||i.isClicked(i.key.ENTER))&&e.setGame(this.selected)&&(e.sound.play("select"),e.setState("LEVELS")),i.isClicked(i.key.ARROW_RIGHT)&&this.selected<s.length-1&&this.selected++,i.isClicked(i.key.ARROW_LEFT)&&this.selected>0&&this.selected--,s.forEach(function(i,u){var h=n/2-t.size*s.length/2-t.padding*(s.length-1)/2+u*(t.size+t.padding),c=.5*r;o.x/l>h&&o.x/l<h+t.size&&o.y/l>c&&o.y/l<c+t.size&&(t.selected=u,o.isClicked()&&(e.setGame(t.selected)?(a.play("back"),e.setState("LEVELS")):a.play("error")))})}},{key:"draw",value:function(e){var t=this,i=e.context,s=e.width,n=e.height,r=(e.frame,e.mouse),o=e.games;i.fillStyle="black",i.fillRect(0,0,s,n),i.fillStyle="white",i.textAlign="center",i.font="bold 100px sans-serif",i.fillText("Select game",s/2,.2*n),o.length<=0||o.forEach(function(e,l){var a=s/2-t.size*o.length/2-t.padding*(o.length-1)/2+l*(t.size+t.padding),u=.5*n;r.x>a&&r.x<a+t.size&&r.y>u&&r.y<u+t.size&&(t.selected=l),i.font="bold 50px sans-serif",i.fillText(e.title,a+t.size/2,u+t.size+60),i.fillStyle=e.unlocked?"green":"red",i.fillRect(a,u,t.size,t.size),l===t.selected&&(i.strokeStyle="yellow",i.lineWidth=10,i.strokeRect(a,u,t.size,t.size))})}}]),e}();t.default=r},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=function(){function e(){s(this,e),this.selected=0,this.size=300,this.padding=50}return n(e,[{key:"update",value:function(e){var t=this,i=e.keyboard,s=e.currentGame,n=e.width,r=e.height,o=e.mouse,l=e.scale,a=e.sound;(i.isClicked(i.key.SPACE)||i.isClicked(i.key.ENTER))&&(e.setLevel(this.selected)?(e.sound.play("back"),e.setState("PLAYING")):e.sound.play("error")),i.isClicked(i.key.ARROW_RIGHT)&&this.selected<s.levels.length-1&&this.selected++,i.isClicked(i.key.ARROW_LEFT)&&this.selected>0&&this.selected--,s.levels.forEach(function(i,u){var h=n/2-t.size*s.levels.length/2-t.padding*(s.levels.length-1)/2+u*(t.size+t.padding),c=.5*r;o.x/l>h&&o.x/l<h+t.size&&o.y/l>c&&o.y/l<c+t.size&&(t.selected=u,o.isClicked()&&(e.setLevel(t.selected)?(a.play("back"),e.setState("PLAYING")):a.play("error")))})}},{key:"draw",value:function(e){var t=this,i=e.currentGame,s=e.context,n=e.width,r=e.height;e.frame,e.mouse,e.scale,e.sound;s.fillStyle="black",s.fillRect(0,0,n,r),s.fillStyle="white",s.textAlign="center",s.font="bold 100px sans-serif",s.fillText("Select level",n/2,.2*r),i.levels.length<=0||i.levels.forEach(function(e,o){var l=n/2-t.size*i.levels.length/2-t.padding*(i.levels.length-1)/2+o*(t.size+t.padding),a=.5*r;s.fillStyle=e.unlocked?"white":"red",s.font="bold 50px sans-serif",s.fillText(e.unlocked?e.title:"locked",l+t.size/2,a+t.size+60),s.fillStyle=e.unlocked?"green":"red",s.fillRect(l,a,t.size,t.size),o===t.selected&&(s.strokeStyle="yellow",s.lineWidth=10,s.strokeRect(l,a,t.size,t.size))})}}]),e}();t.default=r},function(e,t,i){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),o=i(11),l=s(o),a=i(13),u=s(a),h=function(){function e(t){n(this,e),this.title="Pong",this.unlocked=!0,this.levels=[{title:"small ball",image:"",unlocked:!0,properties:{player:{height:200,speed:10},computer:{height:100,speed:2},ball:{count:1,speed:20,size:30}}},{title:"big ball",image:"",unlocked:!1,properties:{player:{height:100,speed:2},computer:{height:400,speed:20},ball:{count:1,speed:20,size:60}}}],this.properties=this.levels[0],this.effects=[],this.score=[0,0],this.countdown=3e3,this.winMax=3,this.loseMax=3,this.player=null,this.computer=null,this.balls=[];var i=[{id:"pong-wall",src:"./source/pong/sounds/pong-wall.wav"},{id:"pong-paddle-left",src:"./source/pong/sounds/pong-paddle-left.wav"},{id:"pong-paddle-right",src:"./source/pong/sounds/pong-paddle-right.wav"},{id:"pong-3",src:"./source/pong/sounds/pong-3.wav"},{id:"pong-2",src:"./source/pong/sounds/pong-2.wav"},{id:"pong-1",src:"./source/pong/sounds/pong-1.wav"},{id:"pong-go",src:"./source/pong/sounds/pong-go.wav"}];t.sound.load(i)}return r(e,[{key:"resetTimer",value:function(){this.countdown=180}},{key:"reset",value:function(){this.score=[0,0],this.countdown=180,this.balls=[],this.effects=[]}},{key:"setup",value:function(e){var t=e.currentLevelIndex;this.properties=this.levels[t].properties,this.score=[0,0],this.countdown=180,this.player=new u.default({engine:e,height:this.properties.player.height,speed:this.properties.player.speed,computer:!1}),this.computer=new u.default({engine:e,height:this.properties.computer.height,speed:this.properties.computer.speed,computer:!0}),this.balls=[];for(var i=0;i<this.properties.ball.count;i++)this.balls.push(new l.default({engine:e,size:this.properties.ball.size,speed:this.properties.ball.speed}))}},{key:"update",value:function(e){var t=this;return this.score[0]>=this.winMax?(this.reset(),void e.setState("LEVELS")):this.score[1]>=this.loseMax?(this.reset(),e.currentLevelIndex<this.levels.length-1&&(this.levels[e.currentLevelIndex+1].unlocked=!0),void(e.currentLevelIndex>=this.levels.length&&e.currentGameIndex<e.games.length-1?(this.games[e.currentGameIndex+1].unlocked=!0,e.setState("MENU")):e.setState("LEVELS"))):(this.player.update(e,this.balls),this.computer.update(e,this.balls),this.countdown>=0?(180===this.countdown?e.sound.play("pong-3"):120===this.countdown?e.sound.play("pong-2"):60===this.countdown?e.sound.play("pong-1"):0===this.countdown&&e.sound.play("pong-wall"),void this.countdown--):(this.balls.forEach(function(i){i.update(e,t)}),this.effects.forEach(function(t){t.update(e)}),void(this.effects=this.effects.filter(function(e){return!e.remove}))))}},{key:"draw",value:function(e){var t=e.context,i=e.width,s=e.height;t.fillStyle="#FF466B",t.fillRect(0,0,i,s),t.fillStyle="white",t.fillRect(i/2-2,0,4,s),t.fillStyle="white",t.textAlign="center",t.font="bold 300px sans-serif",t.fillText(this.score[0]+"  "+this.score[1],i/2,.6*s),this.effects.forEach(function(t){t.draw(e)}),this.player.draw(e),this.computer.draw(e),this.countdown>=0||this.balls.forEach(function(t){t.draw(e)})}}]),e}();t.default=h},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=i(12),o=function(e){return e&&e.__esModule?e:{default:e}}(r),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{engine:{},size:10,speed:10},i=t.engine,n=t.size,r=t.speed;s(this,e),this.speed=r,this.size=n,this.startX=i.width/2-this.size/2,this.startY=i.height/2-this.size/2,this.x=this.startX,this.y=this.startY,this.vx=this.speed,this.vy=0}return n(e,[{key:"colliding",value:function(e){return this.x<e.x+e.width&&this.x+this.size>e.x&&this.y<e.y+e.height&&this.size+this.y>e.y}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.x=this.startX,this.y=this.startY,this.vx=this.speed*e,this.vy=0}},{key:"update",value:function(e,t){var i=t.player,s=t.computer,n=t.score,r=e.width,l=e.height,a=e.sound;this.x+=this.vx,this.y+=this.vy,this.colliding(i)&&(this.x=i.x+i.width,this.vx=Math.abs(this.vx),this.vy-=(i.y+i.height/2-this.y-this.size/2)/(i.height/2)*5,this.vy+=.5*i.vy,t.effects.push(new o.default(this.x,this.y)),a.play("pong-paddle-left")),this.colliding(s)&&(this.x=s.x-this.size,this.vx=-1*Math.abs(this.vx),this.vy-=(s.y+s.height/2-this.y-this.size/2)/(s.height/2)*5,this.vy+=.5*s.vy,t.effects.push(new o.default(this.x,this.y)),a.play("pong-paddle-right")),this.x+this.size>r&&(this.reset(-1),n[0]++,t.resetTimer(),a.play("pong-wall")),this.x<0&&(this.reset(1),n[1]++,t.resetTimer(),a.play("pong-wall")),this.y<0&&(this.y=0,this.vy=Math.abs(this.vy),t.effects.push(new o.default(this.x,this.y)),a.play("pong-wall")),this.y+this.size>l&&(this.y=l-this.size,this.vy=-1*Math.abs(this.vy),t.effects.push(new o.default(this.x,this.y)),a.play("pong-wall"))}},{key:"draw",value:function(e){var t=e.context;t.fillStyle="white",t.fillRect(this.x,this.y,this.size,this.size)}}]),e}();t.default=l},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,e),this.x=t,this.y=i,this.life=0,this.maxLife=50,this.remove=!1}return n(e,[{key:"update",value:function(e){++this.life>this.maxLife&&(this.remove=!0)}},{key:"draw",value:function(e){var t=e.context;t.strokeStyle="rgba(255,255,255,"+(1-this.life/this.maxLife)+")",t.lineWidth=8,t.beginPath();var i=2*this.life;t.moveTo(this.x,this.y-i),t.lineTo(this.x+i,this.y),t.lineTo(this.x,this.y+i),t.lineTo(this.x-i,this.y),t.lineTo(this.x,this.y-i),t.stroke()}}]),e}();t.default=r},function(e,t,i){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var i=0;i<t.length;i++){var s=t[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}(),r=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{height:100,speed:1,engine:{},computer:!1},i=t.height,n=t.speed,r=t.engine,o=t.computer;s(this,e),this.height=i,this.width=20,this.spacing=20,this.speed=n,this.x=o?r.width-this.width-this.spacing:this.spacing,this.y=r.height/2-this.height/2,this.vy=0,this.computer=o}return n(e,[{key:"update",value:function(e,t){var i=this,s=e.keyboard,n=e.height,r=e.scale,o=e.mouse,l=this.y;if(this.computer){var a=1/0,u=0,h=null;t.forEach(function(e){i.x-e.x<a&&(a=i.x-e.x,u=e.y,h=e)}),this.y-=.4*(this.y+this.height/2-u)}else s.isPressed(s.key.ARROW_UP||s.isPressed())&&(this.y-=this.speed),s.isPressed(s.key.ARROW_DOWN)&&(this.y+=this.speed),this.y=o.y/r-this.height/2;this.y<0&&(this.y=0),this.y+this.height>n&&(this.y=n-this.height),this.vy=this.y-l}},{key:"draw",value:function(e){var t=(e.height,e.context);t.fillStyle="white",t.fillRect(this.x,this.y,this.width,this.height)}}]),e}();t.default=r}]);